<?php
defined('BASEPATH') OR exit('No direct script access allowed');
require_once("Head_model.php");

class Users_model extends Head_model{
/* --------PRIVATE--------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- */
    /* ------OTHERS------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- */
/* --------PUBLIC---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- */
    /* ------QUERIES------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------ */ 
    
    /* ------SELECT------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- */
    // Arg: array of $columns and array($column=>value) condition
    public function getMatchingUser($user){
        $query = $this->getQuery_select(NULL, $user, "Users");
        $data = $this->db->query($query)->result_array();
        
        if(empty($data))
            return null;
        $data = $data[0];
        return new User($data);
    }
    /* ------UPDATE------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- */
    
    /* ------INSERT------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- */
    public function insert($userToAdd){
        $query = $this->getQuery_insert($userToAdd, "Users");
        $this->db->query($query);
        $error = $this->db->error();
        if($error["code"] == 0)
            return true;
        return $error;
    }
}